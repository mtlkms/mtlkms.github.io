(function(){"use strict";var n={2343:function(n,e,t){var o=t(9242),s=t(3396),i=t(7139);const a={id:"sidebar"},r={id:"navbar"};function l(n,e,t,l,u,c){const h=(0,s.up)("AppMenu"),p=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(o.uT,{name:"fade-in"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{onClick:e[0]||(e[0]=n=>c.toggleMenu()),id:"sidebar-bg"},null,512),[[o.F8,u.isMenuOpen]])])),_:1}),(0,s.Wm)(o.uT,{name:"fade-in-left"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",a,[(0,s.Wm)(h)],512),[[o.F8,u.isMenuOpen]])])),_:1}),(0,s._)("div",{id:"main",class:(0,i.C_)({noMarginLeft:!u.isMenuOpen})},[(0,s._)("div",r,[(0,s._)("span",{onClick:e[1]||(e[1]=n=>c.toggleMenu()),class:"material-icons"},"menu"),(0,s.Uk)(" "+(0,i.zw)(n.$route.meta.title),1)]),(0,s.Wm)(p,null,{default:(0,s.w5)((({Component:n})=>[(0,s.Wm)(o.uT,{name:"fade-in-fast",mode:"out-in"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(n)))])),_:2},1024)])),_:1})],2)],64)}const u=n=>((0,s.dD)("data-v-8c44ce4e"),n=n(),(0,s.Cn)(),n),c={id:"appmenu-top"},h={key:0},p=u((()=>(0,s._)("img",{src:"/img/icons/180.png",class:"avatar d-block mx-auto"},null,-1))),m=u((()=>(0,s._)("h3",null,"MTLKMS",-1))),d=u((()=>(0,s._)("hr",null,null,-1))),g=u((()=>(0,s._)("p",null,"Học hành chăm chỉ :(",-1))),f=[p,m,d,g],_={key:1},w=u((()=>(0,s._)("img",{src:"/img/icons/180.png",class:"avatar d-block mx-auto"},null,-1))),v=u((()=>(0,s._)("hr",null,null,-1))),k=u((()=>(0,s._)("p",null,"Hiện bạn chưa học gì!",-1))),b=u((()=>(0,s._)("hr",null,null,-1))),y=u((()=>(0,s._)("p",null,"Bạn còn 99 mục tiêu hằng ngày chưa hoàn tất!",-1))),L={class:"material-icons"};function M(n,e,t,o,a,r){const l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",c,[a.data.isLogin?((0,s.wg)(),(0,s.iD)("div",_,[w,(0,s._)("h3",null,"Xin chào "+(0,i.zw)(a.data.user.name)+"!",1),v,k,b,y])):((0,s.wg)(),(0,s.iD)("div",h,f))]),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.links,((n,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e},[a.data.isLogin==n.auth?((0,s.wg)(),(0,s.j4)(l,{key:0,to:n.path,class:(0,i.C_)({active:r.isActive(n),link:!0})},{default:(0,s.w5)((()=>[(0,s._)("span",L,(0,i.zw)(n.icon),1),(0,s.Uk)(" "+(0,i.zw)(n.name),1)])),_:2},1032,["to","class"])):(0,s.kq)("",!0)])))),128))])])}let T={isLogin:!1,user:{name:"",email:"",username:""}};class O{constructor(){}get(n){return T[n]}set(n,e){T[n]=e}remove(n){delete T[n]}clear(){T={}}getAll(){return T}}var S=new O,C={name:"AppMenu",data(){return{data:S.getAll(),links:[{name:"Trang Chủ",path:"/",icon:"home",auth:!0},{name:"Đăng Nhập",path:"/login",icon:"login",auth:!1},{name:"Đăng Ký",path:"/register",icon:"person",auth:!1},{name:"Đăng Xuất",path:"/logout",icon:"logout",auth:!0}]}},methods:{isActive(n){return n.path==this.$route.path}}},D=t(89);const U=(0,D.Z)(C,[["render",M],["__scopeId","data-v-8c44ce4e"]]);var j=U,x={name:"App",components:{AppMenu:j},created(){this.data.isLogin||this.$router.push("/login"),innerWidth>768&&(this.isMenuOpen=!0),window.addEventListener("resize",(()=>{innerWidth>768?this.isMenuOpen=!0:this.isMenuOpen=!1}))},data(){return{isMenuOpen:!1,data:S.getAll()}},watch:{$route:{immediate:!0,handler(n){document.title=n.meta.title||"MTLKMS",innerWidth<768&&(this.isMenuOpen=!1)}}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen}}};const A=(0,D.Z)(x,[["render",l]]);var E=A,K=t(5431);(0,K.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(n){console.error("Error during service worker registration:",n)}});var F=t(678);const z={class:"home"},N=(0,s._)("h1",null,"Home",-1),V=(0,s._)("p",null,"This is the Home page",-1),W=[N,V];function q(n,e,t,o,i,a){return(0,s.wg)(),(0,s.iD)("div",z,W)}var P={name:"HomeView",components:{}};const $=(0,D.Z)(P,[["render",q]]);var H=$;const I=n=>((0,s.dD)("data-v-a9f99a0c"),n=n(),(0,s.Cn)(),n),R={class:"container container-sm"},Z=I((()=>(0,s._)("h2",{class:"mb-4"},"Đăng nhập",-1))),Y={class:"input"},B=I((()=>(0,s._)("span",{class:"material-icons"},"person",-1))),X=I((()=>(0,s._)("p",null,"Username",-1))),Q={class:"input"},G=I((()=>(0,s._)("span",{class:"material-icons"},"lock",-1))),J=I((()=>(0,s._)("p",null,"Password",-1))),nn=I((()=>(0,s._)("div",{class:"footer"},[(0,s._)("button",{class:"btn btn-primary"},"Đăng nhập"),(0,s._)("div",null,[(0,s._)("p",null,[(0,s.Uk)("Chưa có tài khoản? "),(0,s._)("a",{href:"/register"},"[Đăng Ký]")]),(0,s._)("p",null,[(0,s._)("a",{href:""},"[Quên Mật Khẩu]")])])],-1)));function en(n,e,t,a,r,l){return(0,s.wg)(),(0,s.iD)("div",R,[(0,s._)("form",{action:"",method:"POST",onSubmit:e[2]||(e[2]=(0,o.iM)((n=>l.submitForm()),["prevent"]))},[Z,(0,s.Wm)(o.uT,{name:"fade-in"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{class:(0,i.C_)(["log",r.isSuccess?"success":"error"])},[(0,s._)("p",null,(0,i.zw)(r.apiLog),1),(0,s._)("p",null,(0,i.zw)(r.log),1)],2),[[o.F8,r.log]])])),_:1}),(0,s._)("label",Y,[B,(0,s.wy)((0,s._)("input",{type:"text",name:"username",required:"",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=n=>r.form.username=n)},null,512),[[o.nr,r.form.username]]),X]),(0,s._)("label",Q,[G,(0,s.wy)((0,s._)("input",{type:"password",name:"password",required:"",placeholder:"Mật khẩu","onUpdate:modelValue":e[1]||(e[1]=n=>r.form.password=n)},null,512),[[o.nr,r.form.password]]),J]),nn],32)])}class tn{constructor(){this.host="https://cuikho.cf:3000"}get(n){return fetch(this.host+n,{method:"GET",credentials:"include"})}post(n,e){return fetch(this.host+n,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}put(){}delete(){}}var on=new tn,sn={name:"LoginView",created(){this.checkLogin()},data(){return{form:{username:"",password:""},isSuccess:!1,apiLog:"",log:""}},methods:{submitForm(){on.post("/login",this.form).then((n=>{console.log(n),200===n.status?n.json().then((n=>{this.isSuccess=!0,this.apiLog="",this.log="Đăng ký thành công",S.set("user",n.user),S.set("isLogin",!0),this.$router.push("/")})):n.json().then((n=>{this.isSuccess=!1,this.apiLog=n.error,this.showLog()}))})).catch((n=>{console.log(n)}))},showLog(){"Username not found or password is incorrect"==this.apiLog?this.log="Tên đăng nhập hoặc mật khẩu không chính xác":this.log="Đã có lỗi xảy ra"},checkLogin(){S.get("isLogin")?this.$router.push("/"):on.get("/check-login").then((n=>{200===n.status&&n.json().then((n=>{S.set("user",n.user),S.set("isLogin",!0),this.$router.push("/")}))})).catch((n=>{console.log(n)}))}}};const an=(0,D.Z)(sn,[["render",en],["__scopeId","data-v-a9f99a0c"]]);var rn=an;const ln=n=>((0,s.dD)("data-v-1acf841e"),n=n(),(0,s.Cn)(),n),un={class:"container container-sm"},cn=ln((()=>(0,s._)("h2",{class:"mb-4"},"Đăng ký",-1))),hn={class:"input"},pn=ln((()=>(0,s._)("span",{class:"material-icons"},"tag",-1))),mn=ln((()=>(0,s._)("p",null,"Tên hiển thị",-1))),dn={class:"input"},gn=ln((()=>(0,s._)("span",{class:"material-icons"},"person",-1))),fn=ln((()=>(0,s._)("p",null,"Tên đăng nhập",-1))),_n={class:"input"},wn=ln((()=>(0,s._)("span",{class:"material-icons"},"email",-1))),vn=ln((()=>(0,s._)("p",null,"Email",-1))),kn={class:"input"},bn=ln((()=>(0,s._)("span",{class:"material-icons"},"lock",-1))),yn=ln((()=>(0,s._)("p",null,"Mật khẩu",-1))),Ln={class:"input"},Mn=ln((()=>(0,s._)("span",{class:"material-icons"},"lock",-1))),Tn=ln((()=>(0,s._)("p",null,"Re-password",-1))),On=ln((()=>(0,s._)("div",{class:"footer"},[(0,s._)("button",{class:"btn btn-primary"},"Đăng ký"),(0,s._)("div",null,[(0,s._)("p",null,[(0,s.Uk)("Đã có tài khoản? "),(0,s._)("a",{href:"/login"},"[Đăng Nhập]")]),(0,s._)("p",null,[(0,s._)("a",{href:""},"[Quên Mật Khẩu]")])])],-1)));function Sn(n,e,t,a,r,l){return(0,s.wg)(),(0,s.iD)("div",un,[(0,s._)("form",{action:"",method:"POST",onSubmit:e[5]||(e[5]=(0,o.iM)((n=>l.submitForm()),["prevent"]))},[cn,(0,s.Wm)(o.uT,{name:"fade-in"},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",{class:(0,i.C_)(["log",r.isSuccess?"success":"error"])},[(0,s._)("p",null,(0,i.zw)(r.apiLog),1),(0,s._)("p",null,(0,i.zw)(r.log),1)],2),[[o.F8,r.log]])])),_:1}),(0,s._)("label",hn,[pn,(0,s.wy)((0,s._)("input",{type:"text",name:"name",required:"",placeholder:"Tên hiển thị","onUpdate:modelValue":e[0]||(e[0]=n=>r.form.name=n)},null,512),[[o.nr,r.form.name]]),mn]),(0,s._)("label",dn,[gn,(0,s.wy)((0,s._)("input",{type:"text",name:"username",required:"",placeholder:"Tên đăng nhập","onUpdate:modelValue":e[1]||(e[1]=n=>r.form.username=n)},null,512),[[o.nr,r.form.username]]),fn]),(0,s._)("label",_n,[wn,(0,s.wy)((0,s._)("input",{type:"email",name:"email",required:"",placeholder:"Email","onUpdate:modelValue":e[2]||(e[2]=n=>r.form.email=n)},null,512),[[o.nr,r.form.email]]),vn]),(0,s._)("label",kn,[bn,(0,s.wy)((0,s._)("input",{type:"password",name:"password",required:"",placeholder:"Mật khẩu","onUpdate:modelValue":e[3]||(e[3]=n=>r.form.password=n)},null,512),[[o.nr,r.form.password]]),yn]),(0,s._)("label",Ln,[Mn,(0,s.wy)((0,s._)("input",{type:"password",name:"repassword",required:"",placeholder:"Nhập lại mật khẩu","onUpdate:modelValue":e[4]||(e[4]=n=>r.form.repassword=n)},null,512),[[o.nr,r.form.repassword]]),Tn]),On],32)])}var Cn={name:"RegisterView",data(){return{form:{name:"",username:"",email:"",password:"",repassword:""},apiLog:"",log:"",isSuccess:!1}},methods:{submitForm(){if(this.form.password!==this.form.repassword)return this.log="Mật khẩu không khớp",void(this.isSuccess=!1);on.post("/register",this.form).then((n=>{200===n.status?n.json().then((n=>{this.isSuccess=!0,this.apiLog="",this.log="Đăng ký thành công",S.set("user",n.user),S.set("isLogin",!0),this.$router.push("/")})):n.json().then((n=>{this.isSuccess=!1,this.apiLog=n.error,this.showLog()}))})).catch((n=>{console.log(n)}))},showLog(){"Invalid name"==this.apiLog?this.log="Tên phải lớn hơn 3 và nhỏ hơn 50 kí tự":"Invalid email"==this.apiLog?this.log="Email không đúng định dạng":"Invalid username"==this.apiLog?this.log="Tên đăng nhập phải từ 3 đến 20 kí tự, không bao gồm khoảng trống và kí tự đặc biệt":"Invalid password"==this.apiLog?this.log="Mật khẩu phải lớn hơn 6 kí tự, bao gồm chữ cái viết thường, viết hoa, số và kí tự đặc biệt":/(ER_DUP_ENTRY: Duplicate entry ').+(' for key 'username')/gi.test(this.apiLog)?this.log="Tên đăng nhập đã tồn tại":/(ER_DUP_ENTRY: Duplicate entry ').+(' for key 'email')/gi.test(this.apiLog)?this.log="Email đã tồn tại":this.log="Đã có lỗi xảy ra"}}};const Dn=(0,D.Z)(Cn,[["render",Sn],["__scopeId","data-v-1acf841e"]]);var Un=Dn;const jn={class:"container container-sm"},xn=(0,s._)("h2",{class:"mb-4"},"Đăng xuất",-1),An=(0,s._)("p",null,"Bạn có chắc muốn đăng xuất không?",-1),En=(0,s._)("button",{class:"btn btn-primary"},"Đăng xuất",-1),Kn=[xn,An,En];function Fn(n,e){return(0,s.wg)(),(0,s.iD)("div",jn,Kn)}const zn={},Nn=(0,D.Z)(zn,[["render",Fn]]);var Vn=Nn;const Wn=[{path:"/",name:"home",component:H,meta:{title:"Trang Chủ - MTLKMS"}},{path:"/login",name:"login",component:rn,meta:{title:"Đăng Nhập - MTLKMS"}},{path:"/register",name:"register",component:Un,meta:{title:"Đăng Ký - MTLKMS"}},{path:"/logout",name:"logout",component:Vn,meta:{title:"Đăng Xuất - MTLKMS"}}],qn=(0,F.p7)({history:(0,F.PO)("/"),routes:Wn});var Pn=qn;(0,o.ri)(E).use(Pn).mount("#app")}},e={};function t(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return n[o](i,i.exports,t),i.exports}t.m=n,function(){var n=[];t.O=function(e,o,s,i){if(!o){var a=1/0;for(c=0;c<n.length;c++){o=n[c][0],s=n[c][1],i=n[c][2];for(var r=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(t.O).every((function(n){return t.O[n](o[l])}))?o.splice(l--,1):(r=!1,i<a&&(a=i));if(r){n.splice(c--,1);var u=s();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=n.length;c>0&&n[c-1][2]>i;c--)n[c]=n[c-1];n[c]=[o,s,i]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={143:0};t.O.j=function(e){return 0===n[e]};var e=function(e,o){var s,i,a=o[0],r=o[1],l=o[2],u=0;if(a.some((function(e){return 0!==n[e]}))){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(l)var c=l(t)}for(e&&e(o);u<a.length;u++)i=a[u],t.o(n,i)&&n[i]&&n[i][0](),n[i]=0;return t.O(c)},o=self["webpackChunkmtlkms"]=self["webpackChunkmtlkms"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(2343)}));o=t.O(o)})();
//# sourceMappingURL=app.1dd20b9f.js.map